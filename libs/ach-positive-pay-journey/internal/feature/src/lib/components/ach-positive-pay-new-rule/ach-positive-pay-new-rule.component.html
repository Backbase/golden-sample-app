<bb-modal-ui
  [isOpen]="true"
  [modalOptions]="modalOptions"
  (cancel)="closeModal()"
>
  <bb-modal-header-ui id="ach-positive-pay-new-blocker-modal-head">
    <ng-template bbCustomModalHeader>
      <h2
        class="modal-title"
        i18n="
          ACH positive pay title - 'New ACH Rule'|This string is used as the
          title for the heading in the ACH Positive Pay journey component. It is
          presented to the user as the main heading of the page when they are
          viewing the ACH Positive Pay journey. This title is located at the top
          of the ACH Positive Pay journey page@@ach-positive-pay.new-rule.title"
        data-role="ach-positive-pay-new-rule-title"
      >
        New ACH Rule
      </h2>
    </ng-template>
  </bb-modal-header-ui>

  <bb-modal-body-ui>
    <ng-template bbCustomModalBody>
      <div aria-live="assertive">
        <div
          *ngIf="serverError"
          class="bb-positive-pay-create-check__alert-wrapper"
          data-role="ach-positive-pay-new-rule-alert-error"
        >
          <bb-alert-ui
            title="Unknown error occurred. Try to submit the form again."
            i18n-title="
              Server Error - 'Unknown error occurred. Try to submit the form
              again.'|This string is used as the title for an alert message that
              is displayed when the server throws an error. It is presented to
              the user when an unknown error occurs while submitting the form.
              This message is located in the ACH Positive Pay new rule
              component.@@ach-positive-pay.error.default.title"
            [dismissible]="true"
            (close)="hideError()"
          >
          </bb-alert-ui>
        </div>
      </div>

      <bb-ach-positive-pay-rule-form
        [form]="achRuleForm"
        [accounts]="(accounts$ | async)!"
        (selectAccountId)="onSelectAccountId($event)"
      ></bb-ach-positive-pay-rule-form>
    </ng-template>
  </bb-modal-body-ui>

  <bb-modal-footer-ui>
    <ng-template bbCustomModalFooter>
      <div class="bb-button-bar bb-button-bar--spacing-lg">
        <bb-load-button-ui
          id="bb-ach-positive-pay-new-rule-load-more"
          class="bb-button-bar__button"
          color="primary"
          type="submit"
          [isLoading]="loading"
          data-role="ach-positive-pay-new-rule-submit-button"
          i18n="
            Submit button label - 'Submit'|This string is used as the label for
            the 'Submit' button. It is presented to the user when they are
            submitting a new rule in the ACH Positive Pay feature. This label is
            located within the modal footer section of the
            layout.@@ach-positive-pay.new-rule.submit-button"
          (click)="submitRule()"
        >
          Submit
        </bb-load-button-ui>

        <button
          bbButton
          class="bb-button-bar__button"
          type="button"
          color="link"
          data-role="ach-positive-pay-new-rule-cancel-button"
          i18n="
            Cancel button label - 'Cancel'|This string is used as the label for
            the 'Cancel' button. It is presented to the user when they want to
            cancel the entry of a new check in the ACH Positive Pay feature.
            This label is located within the modal footer section of the
            layout.@@ach-positive-pay.new-rule.cancel-button"
          (click)="closeModal()"
        >
          Cancel
        </button>
      </div>
    </ng-template>
  </bb-modal-footer-ui>
</bb-modal-ui>
