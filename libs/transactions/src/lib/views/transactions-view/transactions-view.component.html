<div class="row">
  <div class="bb-card col-md-6">
    <div class="bb-card__body">
      <h1 *ngIf="title !== ''" data-role="transactions-view__title">
        {{ title }}
      </h1>
      <div class="bb-block bb-block--md">
        <bb-text-filter (textChange)="search($event)"></bb-text-filter>
      </div>
      <div
        class="bb-block bb-block--md"
        *ngIf="(bankAlias$ | async)?.['bankAlias'] as accountName"
      >
        Filtered By:
        <bb-badge-ui
          [text]="accountName"
          color="success"
          [abbr]="false"
          [circle]="false"
        ></bb-badge-ui>
        <span routerLink="/transactions">X</span>
      </div>
      <ul *ngIf="transactions$ | async as items; else loading" class="bb-list">
        <li
          *ngFor="let item of items | filterTransactions: filter"
          class="bb-list__item"
          data-role="transactions-view__item-container"
          [routerLink]="['/transactions', item.id]"
          [state]="item"
        >
          <bb-transaction-item [transaction]="item"></bb-transaction-item>
        </li>
      </ul>
    </div>
  </div>
</div>

<ng-template #loading>
  <div data-role="transactions-view__loading-state-container">
    <bb-loading-indicator-ui loaderSize="lg"></bb-loading-indicator-ui>
  </div>
</ng-template>

<router-outlet></router-outlet>
